# Orchestrator Watchdog Configuration
# Generated by watchdog v3.0
# Edit this file to customize watchdog behavior

# ==============================================================================
# TIMING CONFIGURATION
# ==============================================================================
CHECK_INTERVAL=60           # seconds between health checks
STARTUP_DELAY=5             # seconds to wait after starting orchestrator
HEALTH_CHECK_TIMEOUT=10     # seconds to wait for health check response
GRACEFUL_SHUTDOWN_TIMEOUT=10 # seconds to wait for graceful shutdown

# ==============================================================================
# RESTART LIMITS
# ==============================================================================
MAX_RESTARTS=20             # max restarts per hour (prevents restart loops)
RESTART_BACKOFF_ENABLED=false # enable exponential backoff between restarts
RESTART_BACKOFF_BASE=60     # base backoff time in seconds
RESTART_BACKOFF_MAX=600     # max backoff time in seconds (10 minutes)

# ==============================================================================
# TOKEN LIMITS (Per Session)
# ==============================================================================
# These limits help control costs and prevent runaway sessions
TOKEN_LIMIT_ENABLED=true    # enable token limit enforcement
TOKEN_LIMIT_INPUT=100000    # max input tokens per session
TOKEN_LIMIT_OUTPUT=50000    # max output tokens per session
TOKEN_LIMIT_TOTAL=150000    # max total tokens per session (0 = unlimited)
TOKEN_CHECK_INTERVAL=60     # how often to check token usage (seconds)

# ==============================================================================
# SESSION CONFIGURATION
# ==============================================================================
SESSION_TIMEOUT=0           # max session duration in seconds (0 = unlimited)
IDLE_TIMEOUT=0              # restart if idle for this many seconds (0 = disabled)

# ==============================================================================
# MODEL CONFIGURATION
# ==============================================================================
MODEL="anthropic/claude-opus-4-5"   # primary model to use
MODEL_FALLBACK=""                   # fallback model if primary fails

# ==============================================================================
# MEMORY LIMITS
# ==============================================================================
MEMORY_LIMIT_MB=0           # max memory usage in MB (0 = unlimited)
MEMORY_CHECK_INTERVAL=60    # how often to check memory (seconds)

# ==============================================================================
# LOG ROTATION
# ==============================================================================
LOG_ROTATION_ENABLED=true   # enable log rotation
LOG_MAX_SIZE_MB=50          # max log file size before rotation
LOG_MAX_FILES=5             # number of rotated files to keep

# ==============================================================================
# NOTIFICATIONS (Future Feature)
# ==============================================================================
NOTIFY_ON_RESTART=false
NOTIFY_WEBHOOK_URL=""
