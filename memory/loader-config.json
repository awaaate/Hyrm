{
  "version": "1.0",
  "loading_strategy": "adaptive",
  "rules": [
    {
      "name": "core_always",
      "files": [
        "state.json",
        "working.md",
        "metrics.json"
      ],
      "condition": "always",
      "priority": 1
    },
    {
      "name": "knowledge_on_keyword",
      "files": [
        "knowledge/*.md"
      ],
      "condition": "keyword_match",
      "priority": 2,
      "keywords": {
        "knowledge/opencode_essentials.md": [
          "opencode",
          "architecture",
          "storage",
          "session"
        ],
        "knowledge/session_recovery.md": [
          "recovery",
          "boot",
          "persistence",
          "continuity"
        ],
        "knowledge/session_3_intelligence.md": [
          "intelligence",
          "extraction",
          "compression",
          "search"
        ]
      }
    },
    {
      "name": "cache_on_demand",
      "files": [
        ".cache/search-index.json"
      ],
      "condition": "explicit_request",
      "priority": 3,
      "triggers": [
        "search",
        "query",
        "find"
      ]
    },
    {
      "name": "archive_manual_only",
      "files": [
        "archive/*"
      ],
      "condition": "manual_only",
      "priority": 4
    }
  ],
  "optimization_settings": {
    "max_startup_tokens": 4000,
    "prefer_recent_knowledge": true,
    "auto_compress_threshold": 3000,
    "cache_expiry_days": 7
  }
}